<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LANL 2019-2020 Clinic: peak_follower.PeakFollower Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LANL 2019-2020 Clinic
   </div>
   <div id="projectbrief">Analysing PDV data</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>peak_follower</b></li><li class="navelem"><a class="el" href="classpeak__follower_1_1PeakFollower.html">PeakFollower</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classpeak__follower_1_1PeakFollower-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">peak_follower.PeakFollower Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for peak_follower.PeakFollower:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpeak__follower_1_1PeakFollower.png" usemap="#peak_5Ffollower.PeakFollower_map" alt=""/>
  <map id="peak_5Ffollower.PeakFollower_map" name="peak_5Ffollower.PeakFollower_map">
<area href="classfollower_1_1Follower.html" alt="follower.Follower" shape="rect" coords="0,0,172,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5d6a0f93149ac59639ef9f3d85a4cdf5"><td class="memItemLeft" align="right" valign="top"><a id="a5d6a0f93149ac59639ef9f3d85a4cdf5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self, spectrogram, start_point, span=80, smoothing=4, max_hop=80, debug=False # Do you want to print out debugging statements each loop?)</td></tr>
<tr class="separator:a5d6a0f93149ac59639ef9f3d85a4cdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c83906d3df3c82334b836a13ee0fd9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpeak__follower_1_1PeakFollower.html#ae7c83906d3df3c82334b836a13ee0fd9">run</a> (self, maxIter=0)</td></tr>
<tr class="separator:ae7c83906d3df3c82334b836a13ee0fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7323ddcd4f5fd588db4b5a94012db2b2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpeak__follower_1_1PeakFollower.html#a7323ddcd4f5fd588db4b5a94012db2b2">step</a> (self, maxIter=0)</td></tr>
<tr class="separator:a7323ddcd4f5fd588db4b5a94012db2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfollower_1_1Follower"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfollower_1_1Follower')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfollower_1_1Follower.html">follower.Follower</a></td></tr>
<tr class="memitem:a98960434ead4f39793c30679aa3fff0b inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfollower_1_1Follower.html#a98960434ead4f39793c30679aa3fff0b">__init__</a> (self, <a class="el" href="classspectrogram_1_1Spectrogram.html">Spectrogram</a> spectrogram, tuple start_point, int span=80, bool rotate=False, dict weightingVector={}, debug=False)</td></tr>
<tr class="separator:a98960434ead4f39793c30679aa3fff0b inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add50e55e209236effbc39074241e531d inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="add50e55e209236effbc39074241e531d"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>v_of_t</b> (self)</td></tr>
<tr class="separator:add50e55e209236effbc39074241e531d inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e724cb7d44a264c19d914c6f17bc70 inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfollower_1_1Follower.html#a42e724cb7d44a264c19d914c6f17bc70">data_range</a> (self, n=-1)</td></tr>
<tr class="separator:a42e724cb7d44a264c19d914c6f17bc70 inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157f935f215de777d9740c764b367aad inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a157f935f215de777d9740c764b367aad"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>data</b> (self, n=-1)</td></tr>
<tr class="separator:a157f935f215de777d9740c764b367aad inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c0d000e7a933b6243773f856b3b3b5 inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfollower_1_1Follower.html#a70c0d000e7a933b6243773f856b3b3b5">frame</a> (self)</td></tr>
<tr class="separator:a70c0d000e7a933b6243773f856b3b3b5 inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617cb8500daf024b6b4f2dc0b90a4265 inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfollower_1_1Follower.html#a617cb8500daf024b6b4f2dc0b90a4265">estimate_widths</a> (self)</td></tr>
<tr class="separator:a617cb8500daf024b6b4f2dc0b90a4265 inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aaec5796c8a30dfeac1d68670a66159 inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfollower_1_1Follower.html#a2aaec5796c8a30dfeac1d68670a66159">estimate_width</a> (self, n, neighborhood=32)</td></tr>
<tr class="separator:a2aaec5796c8a30dfeac1d68670a66159 inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a95aa56cd3687fcb5c50e9148608ca inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfollower_1_1Follower.html#ab9a95aa56cd3687fcb5c50e9148608ca">moments</a> (self, x, y)</td></tr>
<tr class="separator:ab9a95aa56cd3687fcb5c50e9148608ca inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995588c736ae095887f87ac392475579 inherit pub_methods_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfollower_1_1Follower.html#a995588c736ae095887f87ac392475579">fit_gaussian</a> (self, velocities, powers, center)</td></tr>
<tr class="separator:a995588c736ae095887f87ac392475579 inherit pub_methods_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad51977a4d20e7445db2225c3e329baa2"><td class="memItemLeft" align="right" valign="top"><a id="ad51977a4d20e7445db2225c3e329baa2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>smoothing</b></td></tr>
<tr class="separator:ad51977a4d20e7445db2225c3e329baa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac455f86f0f3c5861023365de4db2b5e4"><td class="memItemLeft" align="right" valign="top"><a id="ac455f86f0f3c5861023365de4db2b5e4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>max_hop</b></td></tr>
<tr class="separator:ac455f86f0f3c5861023365de4db2b5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98008a4e27fc14cceadc459ba9981c0d"><td class="memItemLeft" align="right" valign="top"><a id="a98008a4e27fc14cceadc459ba9981c0d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>baselines</b></td></tr>
<tr class="separator:a98008a4e27fc14cceadc459ba9981c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classfollower_1_1Follower"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classfollower_1_1Follower')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classfollower_1_1Follower.html">follower.Follower</a></td></tr>
<tr class="memitem:acdbbd1c89274a4b99cb7f8fc95fe1af2 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="acdbbd1c89274a4b99cb7f8fc95fe1af2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>spectrogram</b></td></tr>
<tr class="separator:acdbbd1c89274a4b99cb7f8fc95fe1af2 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6756cb0a24dd52be7caad740ce1f4414 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a6756cb0a24dd52be7caad740ce1f4414"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>v_start</b></td></tr>
<tr class="separator:a6756cb0a24dd52be7caad740ce1f4414 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352a27bd3f5f198d6a0f08a768e538c2 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a352a27bd3f5f198d6a0f08a768e538c2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>span</b></td></tr>
<tr class="separator:a352a27bd3f5f198d6a0f08a768e538c2 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5702076183dbe3a5b21f4eb329a8ff95 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a5702076183dbe3a5b21f4eb329a8ff95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rotate</b></td></tr>
<tr class="separator:a5702076183dbe3a5b21f4eb329a8ff95 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c5c06943e8d99bc92adf15bf88482f inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a70c5c06943e8d99bc92adf15bf88482f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>weightingVector</b></td></tr>
<tr class="separator:a70c5c06943e8d99bc92adf15bf88482f inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc2673b1449e35440c369e5773aadfc inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a8dc2673b1449e35440c369e5773aadfc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>debug</b></td></tr>
<tr class="separator:a8dc2673b1449e35440c369e5773aadfc inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dedee48cb3f0791202db589e01af43b inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a2dedee48cb3f0791202db589e01af43b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>time_index</b></td></tr>
<tr class="separator:a2dedee48cb3f0791202db589e01af43b inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dbbfb0e08af33ec86136885f629d1e1 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a1dbbfb0e08af33ec86136885f629d1e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>results</b></td></tr>
<tr class="separator:a1dbbfb0e08af33ec86136885f629d1e1 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d702aefb6b4e83a7b69b782976465c inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="aa1d702aefb6b4e83a7b69b782976465c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>velocity</b></td></tr>
<tr class="separator:aa1d702aefb6b4e83a7b69b782976465c inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96c4864013867367fd74b69f9694379 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="ad96c4864013867367fd74b69f9694379"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>time</b></td></tr>
<tr class="separator:ad96c4864013867367fd74b69f9694379 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5614d492b9f35cb8bee9e6424c85d235 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a5614d492b9f35cb8bee9e6424c85d235"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>intensity</b></td></tr>
<tr class="separator:a5614d492b9f35cb8bee9e6424c85d235 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff141b051730426f8fdd0a211cd2586 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a3ff141b051730426f8fdd0a211cd2586"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dV</b></td></tr>
<tr class="separator:a3ff141b051730426f8fdd0a211cd2586 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823e7e7ba05eecaa9046a097ef66cd00 inherit pub_attribs_classfollower_1_1Follower"><td class="memItemLeft" align="right" valign="top"><a id="a823e7e7ba05eecaa9046a097ef66cd00"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dT</b></td></tr>
<tr class="separator:a823e7e7ba05eecaa9046a097ef66cd00 inherit pub_attribs_classfollower_1_1Follower"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A naive follower implementation that uses a local-region
smoothing and then follows the local maximum.
**Inputs to the constructor**
- spectrogram: an instance of Spectrogram
- start_point: (t, v), the coordinates at which to begin the search
            The time is in seconds. The velocity is in m/s.
- span: (60) the number of pixels on either side of the starting value of v
  at which to search for a peak at the next time step.
- smoothing: (4) the number of points on either side of a given velocity
  in a spectrum to average over to produce a smoothed representation of the
  spectrum prior to searching for a peak.
- max_hop: (50) the largest change in v from the previous time step to consider
  as a continuation.
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae7c83906d3df3c82334b836a13ee0fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7c83906d3df3c82334b836a13ee0fd9">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def peak_follower.PeakFollower.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxIter</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Repeatedly call step until it fails.
Returns the total intensity observed along the trajectory up to the number of iterations allowed by maxIter.
If maxIter &lt;= 0 then it will run until completion. 
</pre> 
</div>
</div>
<a id="a7323ddcd4f5fd588db4b5a94012db2b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7323ddcd4f5fd588db4b5a94012db2b2">&#9670;&nbsp;</a></span>step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def peak_follower.PeakFollower.step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxIter</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Attempt to fit a gaussian starting from the coeffients
in the input parameter to intensities vs velocities.
If coefficients is None or empty, guess reasonable values.
The order of the parameters in the coefficients array is
amplitude, center, width, and background.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>peak_follower.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
